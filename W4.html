<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTC</title>

    <link rel="stylesheet" href="L1style.css">
</head>
<body>
    

         <!-- Header
   ================================================== -->
   <header>

    <div class="logo">
       <a href="W1.html"><img alt="" src="image/logo.png"></a>
    </div>


 </header> <!-- Header End -->

    <div class="W4-text">
        <h1 class="success">顧客リスト</h1>
    </div>

    <div class="kokyakulist">
        <table border="1" >
            <tr>
                <td>名前</td>
                <td id ="name"></td>
            </tr>
            <tr>
                <td>企業コード</td>
                <td id = "company"></td>
            </tr>
            <tr>
                <td>社員番号</td>
                <td id = "employee"></td>
            </tr>
            <tr>
                <td>性別</td>
                <td id = "sex"></td>
            </tr>
            <tr>
                <td>生年月日</td>
                <td id = "birthday"></td>
            </tr>
            <tr>
                <td>住所</td>
                <td id ="address"></td>
            </tr>
            <tr>
                <td>電話番号</td>
                <td id ="phone"></td>
            </tr>
            <tr>
                <td>メールアドレス</td>
                <td id ="mail"></td>
            </tr>
            <tr>
                <td>決済方法</td>
                <td id = "pay"></td>
            </tr>
            <tr>
                <td>宿泊日</td>
                <td id = "how long"></td>
            </tr>
            <tr>
                <td>宿泊場所</td>
                <td id = ""></td>
            </tr>
        </table>

    </div>
    

    

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDm3AiN5TzPnx8zRUcrLRNGLQj7pIHJzZ0",
            authDomain: "l1project-1e696.firebaseapp.com",
            databaseURL: "https://l1project-1e696-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "l1project-1e696",
            storageBucket: "l1project-1e696.appspot.com",
            messagingSenderId: "570181742311",
            appId: "1:570181742311:web:b6413c74bec20ef1773c42"
        };

        firebase.initializeApp(firebaseConfig);

        //Firebaseからデータを受信するための「リスナー」を設置
        var refrence_a =firebase.database().ref("users");

        refrence_a.on('value',(snapshot)=>{
            snapshot.forEach((childsnapshot) => {
                var data;
                data = childsnapshot.val(); //データ配列代入
                showUser(data);
            });
        });

        function showUser(data){
            for (let key in data) {
                let td = document.getElementById(key);
                td.innerHTML = data[key];  
            }
           /* data.forEach(function(value, key) {
                //let key = data.key;
                //let value = data.value;
                let td = document.getElementById(key);
                td.innerHTML = value;
            });*/
            

        }

        function addText(data){
            const p = document.createElement("p");
            p.innerHTML = data
            const div = document.getElementById("list")
            div.appendChild(p)
        }

        
    </script>
    
    
</body>
</html>